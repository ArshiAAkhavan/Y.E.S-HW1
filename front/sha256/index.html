<!DOCTYPE html>
<html>
  <head>
    <title>Y.E.S.</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.js"></script>
  </head>

  <script type="text/javascript">
    function submit_nodejs() {
      (async () => {
        const rawResponse = await fetch(
          "http://yes.io/nodejs/sha256"494,
          {
            method: "POST",
            headers: {
              Accept: "application/json",
              Accept: "text/html",
              "Content-Type": "application/json"
            },
            body: JSON.stringify({
              first: document.getElementById("first_input").value,
              second: document.getElementById("second_input").value
            })
          }
        );
        const response = await rawResponse;
        console.log("response:", response);
        if (response.status == 404) {
          // alert("Page not found!")
        } else {
          const content = await response.text();
          document.getElementById("result").innerText = content;
          console.log(content);
        }
      })();
    }

    function submit_go() {
      (async () => {
        const rawResponse = await fetch("http://yes.io/go/sha256", {
          method: "POST",
          headers: {
            Accept: "application/json",
            "Content-Type": "application/json"
          },
          body: JSON.stringify({
            first: document.getElementById("first_input").value,
            second: document.getElementById("second_input").value
          })
        });
        const content = await rawResponse.json();
        console.log("---- result:", content);
        document.getElementById("result").innerText = content.result;
        console.log(content);
      })();
    }
  </script>

  <body style="background-image: url('../darkness.png');">
    <div
      class="ui center aligned container "
      style="width: 35%; margin: 40px auto; height: 80%;"
    >
      <div class="ui placeholder segment left aligned inverted">
        <div class="ui segment inverted">
          <div
            class="ui message fluid"
            style="margin-bottom: 10px;background-color:#d4d6d5"
          >
            <h5>Enter 2 numbers to get their sum in SHA256 format!</h5>
          </div>
          <div class="ui fluid labeled input">
            <div class="ui label">
              1
            </div>
            <input
              type="text"
              id="first_input"
              placeholder="Enter first number"
            />
          </div>
          <div
            class="ui fluid labeled input"
            style="margin-top: 10px; margin-bottom: 10px;"
          >
            <div class="ui label">
              2
            </div>
            <input
              type="text"
              id="second_input"
              placeholder="Enter second number"
            />
          </div>

          <div class="ui segment inverted center aligned">
            <div class="ui fluid buttons">
              <div
                class="ui green inverted submit button"
                onclick="submit_nodejs()"
              >
                <i class="node js icon"></i>
                nodejs
              </div>
              <div class="or"></div>
              <div class="ui blue inverted submit button" onclick="submit_go()">
                <i class="digital ocean icon"></i>
                golang
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="ui icon inverted message" style="overflow: auto;">
        <i class="edit icon"></i>
        <div class="header" style="opacity: 0.5;">
          <p id="result">Result is ...</p>
        </div>
      </div>
    </div>
  </body>
</html>
